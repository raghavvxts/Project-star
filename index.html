<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Astronomy Interaction</title>

<style>
*{
  box-sizing:border-box;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
}

body{
  margin:0;
  min-height:100vh;
  overflow:hidden;
  background:radial-gradient(circle at top,#0b1d3a,#000 72%);
  display:flex;
  align-items:center;
  justify-content:center;
  color:white;
}

/* stars */
.star{
  position:absolute;
  width:2px;
  height:2px;
  background:white;
  opacity:.6;
}

/* orbits */
.orbit{
  position:absolute;
  border-radius:50%;
  pointer-events:none;
  will-change:transform;
}
.planet{
  position:absolute;
  top:0;
  left:50%;
  transform:translateX(-50%);
}

/* card */
.card{
  background:white;
  color:#0f172a;
  padding:36px 28px;
  border-radius:28px;
  width:min(460px,92vw);
  text-align:center;
  z-index:10;
  box-shadow:
    0 20px 50px rgba(0,0,0,.45),
    0 0 30px rgba(253,230,138,.3);
}

/* typography */
h1{font-size:26px;margin-bottom:12px}
p{font-size:16px;margin-bottom:22px}

button{
  padding:14px 32px;
  font-size:16px;
  border-radius:999px;
  border:none;
  cursor:pointer;
  margin:8px;
}

.primary{
  background:linear-gradient(135deg,#2563eb,#3b82f6);
  color:white;
}
.secondary{
  background:#e5e7eb;
}

/* yes / no */
.buttons{
  position:relative;
  height:150px;
}
#no{
  position:absolute;
  left:200px;
  top:40px;
}
.cat{
  position:absolute;
  font-size:26px;
  pointer-events:none;
}

/* star core replacement (CSS only) */
.star-core{
  width:160px;
  height:160px;
  margin:28px auto 0;
  border-radius:50%;
  background:
    radial-gradient(circle at 30% 30%,#fff,#fde68a 40%,#f59e0b 65%,transparent 70%);
  box-shadow:
    0 0 40px rgba(253,230,138,.6),
    0 0 80px rgba(253,230,138,.35);
}

/* constellation */
.const-wrap{
  position:relative;
  width:100%;
  max-width:320px;
  height:140px;
  margin:26px auto 0;
}
.const-star{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  background:#fde68a;
}
.const-line{
  position:absolute;
  height:2px;
  background:rgba(253,230,138,.55);
  transform-origin:left center;
}

/* title animation */
.letter{
  opacity:0;
  animation:appear .5s forwards;
}
@keyframes appear{to{opacity:1}}

.twinkle{
  display:inline-block;
  animation:twinkle 2.5s infinite;
}
@keyframes twinkle{
  0%,100%{opacity:.6}
  50%{opacity:1}
}

/* glitter text */
.glitter{
  background:linear-gradient(90deg,#fde68a,#f472b6,#60a5fa,#fde68a);
  background-size:300%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:glitter 3s linear infinite;
}
@keyframes glitter{
  to{background-position:300%}
}

/* motion safety */
@media (prefers-reduced-motion: reduce){
  *{animation:none !important}
}
</style>
</head>

<body>

<audio id="music" src="taaron-se.mp3" preload="auto"></audio>

<!-- planets -->
<div class="orbit" data-speed="0.002" style="width:420px;height:420px;left:8vw;top:22vh">
  <img src="planet-earth.png" class="planet" width="110">
</div>
<div class="orbit" data-speed="0.0015" style="width:560px;height:560px;right:6vw;top:12vh">
  <img src="planet-saturn.png" class="planet" width="160">
</div>
<div class="orbit" data-speed="0.0025" style="width:320px;height:320px;left:14vw;bottom:10vh">
  <img src="planet-mars.png" class="planet" width="90">
</div>
<div class="orbit" data-speed="0.001" style="width:640px;height:640px;right:8vw;bottom:6vh">
  <img src="planet-jupiter.png" class="planet" width="140">
</div>

<div class="card" id="card">
  <h1 id="mainTitle">Astronomy Interaction <span class="twinkle">üî≠</span></h1>
  <p>This project studies responses to astronomy questions.</p>
  <button class="primary" id="startBtn">Start üöÄ</button>
</div>

<script>
/* stars */
const STAR_COUNT = 130;
for(let i=0;i<STAR_COUNT;i++){
  const s=document.createElement('div');
  s.className='star';
  s.style.left=Math.random()*100+'vw';
  s.style.top=Math.random()*100+'vh';
  document.body.appendChild(s);
}

/* cached refs */
const card = document.getElementById('card');
const orbits = document.querySelectorAll('.orbit');
const music = document.getElementById('music');

/* title animation */
(function animateTitle(){
  const el=document.getElementById('mainTitle');
  const text=el.innerText;
  el.textContent='';
  [...text].forEach((c,i)=>{
    const span=document.createElement('span');
    span.className='letter';
    span.style.animationDelay=i*0.04+'s';
    span.innerHTML=c===' ' ? '&nbsp;' : c;
    el.appendChild(span);
  });
})();

/* orbit animation */
let t=0;
function orbitLoop(){
  t+=0.01;
  orbits.forEach(o=>{
    o.style.transform=`rotate(${t*o.dataset.speed*360}deg)`;
  });
  requestAnimationFrame(orbitLoop);
}
orbitLoop();

/* flow */
document.getElementById('startBtn').onclick = ask;

function ask(){
  card.innerHTML=`
    <h1>Astronomy Check üåû</h1>
    <p>Is the Sun a star?</p>
    <div class="buttons">
      <button class="primary" id="yes">Yes</button>
      <button class="secondary" id="no">No</button>
      <div class="cat" id="cat">üê±</div>
    </div>
    <p style="font-size:12px;color:#6b7280">No may behave unpredictably</p>
  `;

  const no=document.getElementById('no');
  const cat=document.getElementById('cat');
  const area=card.querySelector('.buttons');

  const dodge=()=>{
    const x=Math.random()*(area.clientWidth-no.offsetWidth);
    const y=Math.random()*(area.clientHeight-no.offsetHeight);
    no.style.left=x+'px';
    no.style.top=y+'px';
    cat.style.left=(x-26)+'px';
    cat.style.top=(y+6)+'px';
  };

  no.addEventListener('mouseenter',dodge);
  no.addEventListener('touchstart',e=>{e.preventDefault();dodge();});
  document.getElementById('yes').onclick=confirm;
}

function confirm(){
  card.innerHTML=`
    <h1>Final Confirmation ‚≠ê</h1>
    <button class="primary" id="ok">Okiee Yawrr</button>
    <button class="secondary" id="yup">YUPEEE</button>
  `;
  document.getElementById('ok').onclick=reveal;
  document.getElementById('yup').onclick=reveal;
}

function reveal(){
  card.innerHTML=`
    <div class="star-core"></div>
    <div style="margin-top:22px">
      <div class="glitter" style="font-size:38px">Vedannshi</div>
      <div style="font-size:28px;font-weight:800;margin-top:10px">
        YOU‚ÄôRE GOING TO PROM<br>WITH ME!!!!!
      </div>
      <p style="margin-top:16px;font-size:14px;color:#6b7280">
        üì∏ Screenshot this moment
      </p>
    </div>
    <div class="const-wrap" id="const"></div>
  `;

  music.play().catch(()=>{});
  drawConstellation();
}

/* constellation */
function drawConstellation(){
  const wrap=document.getElementById('const');
  const pts=[
    [30,70],[60,40],[90,70],[130,40],[130,70],
    [170,55],[210,40],[210,70],[250,55],
    [290,40],[290,70]
  ];

  pts.forEach((p,i)=>{
    const s=document.createElement('div');
    s.className='const-star';
    s.style.left=p[0]+'px';
    s.style.top=p[1]+'px';
    wrap.appendChild(s);

    if(i>0){
      const l=document.createElement('div');
      const dx=p[0]-pts[i-1][0];
      const dy=p[1]-pts[i-1][1];
      l.className='const-line';
      l.style.left=pts[i-1][0]+'px';
      l.style.top=pts[i-1][1]+'px';
      l.style.width=Math.hypot(dx,dy)+'px';
      l.style.transform=`rotate(${Math.atan2(dy,dx)}rad)`;
      wrap.appendChild(l);
    }
  });
}
</script>

</body>
</html>
