<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Astronomy Interaction</title>

<style>
*{box-sizing:border-box;font-family:system-ui,-apple-system,sans-serif}

body{
  margin:0;min-height:100vh;overflow:hidden;
  background:radial-gradient(circle at top,#0b1d3a,#000 65%);
  display:flex;align-items:center;justify-content:center;color:white;
}

/* stars */
.star{position:absolute;width:2px;height:2px;background:#fff;opacity:.8}

/* orbit + planets */
.orbit{position:absolute;border-radius:50%;pointer-events:none}
.planet{position:absolute;left:50%;top:0;transform:translateX(-50%);opacity:.9}

/* card */
.card{
  background:#fff;color:#0f172a;padding:32px 28px;border-radius:26px;
  width:min(460px,92vw);text-align:center;z-index:10;
  box-shadow:0 30px 70px rgba(0,0,0,.6),0 0 45px rgba(253,230,138,.45);
}

/* text */
h1{font-size:26px;margin-bottom:12px}
p{font-size:16px;margin-bottom:22px}

button{
  padding:14px 32px;font-size:16px;border-radius:999px;
  border:none;cursor:pointer;margin:8px
}
.primary{background:linear-gradient(135deg,#2563eb,#3b82f6);color:white}
.secondary{background:#e5e7eb}

/* yes/no */
.buttons{position:relative;height:150px}
#no{position:absolute;left:220px;top:40px}
.shake{animation:shake .3s}
@keyframes shake{
  0%{transform:0}
  25%{transform:translateX(-4px)}
  50%{transform:translateX(4px)}
  75%{transform:translateX(-4px)}
  100%{transform:0}
}
.cat{position:absolute;font-size:26px;pointer-events:none}

/* star core */
.star-core{
  width:170px;height:170px;margin:30px auto 0;border-radius:50%;
  background:radial-gradient(circle,#fff7cc,#facc15);
  box-shadow:0 0 70px #fde68a;
  animation:pulse 3s ease-in-out infinite;
}
.star-core.shake{animation:slowShake 1.6s ease-in-out infinite}
@keyframes pulse{50%{transform:scale(1.08)}}
@keyframes slowShake{
  0%,100%{transform:0}
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-6px)}
}

/* constellation (STABLE) */
.const-wrap{
  position:relative;width:100%;max-width:320px;height:160px;
  margin:18px auto 0;overflow:hidden
}
.const-star{
  position:absolute;width:6px;height:6px;border-radius:50%;
  background:#fde68a;box-shadow:0 0 10px #fde68a;
  opacity:0;animation:fadeIn .6s forwards
}
@keyframes fadeIn{to{opacity:1}}

.const-line{
  position:absolute;height:2px;
  background:rgba(253,230,138,.6);
  transform-origin:left center;
  animation:drawLine .8s forwards
}
@keyframes drawLine{
  from{transform:scaleX(0)}
  to{transform:scaleX(1)}
}

/* title animation */
.letter{opacity:0;animation:appear .6s forwards}
@keyframes appear{to{opacity:1}}
.twinkle{display:inline-block;animation:twinkleEmoji 2.5s infinite}
@keyframes twinkleEmoji{0%,100%{opacity:.6}50%{opacity:1}}

/* glitter name */
.glitter{
  background:linear-gradient(90deg,#fde68a,#f472b6,#60a5fa,#fde68a);
  background-size:300%;
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  animation:glitter 3s linear infinite
}
@keyframes glitter{0%{background-position:0%}100%{background-position:300%}}

/* hearts */
.heart{position:absolute;font-size:22px;animation:floatUp 3.5s forwards}
@keyframes floatUp{to{transform:translateY(-120vh);opacity:0}}
</style>
</head>

<body>

<audio id="music" src="taaron-se.mp3" preload="auto"></audio>

<!-- Orbits -->
<div class="orbit" data-speed="0.002" style="width:380px;height:380px;left:10vw;top:20vh">
  <img src="planet-earth.png" class="planet">
</div>
<div class="orbit" data-speed="0.0015" style="width:520px;height:520px;right:5vw;top:10vh">
  <img src="planet-saturn.png" class="planet" style="width:160px">
</div>
<div class="orbit" data-speed="0.0025" style="width:300px;height:300px;left:15vw;bottom:10vh">
  <img src="planet-mars.png" class="planet" style="width:90px">
</div>
<div class="orbit" data-speed="0.001" style="width:600px;height:600px;right:8vw;bottom:5vh">
  <img src="planet-jupiter.png" class="planet" style="width:140px">
</div>

<div class="card" id="card">
  <h1 id="mainTitle">Astronomy Interaction <span class="twinkle">üî≠</span></h1>
  <p>This project studies responses to astronomy questions.</p>
  <button class="primary" onclick="ask()">Start üöÄ</button>
</div>

<script>
/* stars */
for(let i=0;i<120;i++){
  const s=document.createElement('div');
  s.className='star';
  s.style.left=Math.random()*100+'vw';
  s.style.top=Math.random()*100+'vh';
  document.body.appendChild(s);
}

const card=document.getElementById('card');

/* title animation */
function animateTitle(){
  const el=document.getElementById('mainTitle');
  if(!el) return;
  const text=el.innerText;
  el.innerHTML='';
  [...text].forEach((c,i)=>{
    const span=document.createElement('span');
    span.className='letter';
    span.style.animationDelay=i*0.05+'s';
    span.innerHTML=c===' ' ? '&nbsp;' : c;
    el.appendChild(span);
  });
}
animateTitle();
document.addEventListener('visibilitychange',()=>{
  if(!document.hidden) animateTitle();
});

/* orbits */
let t=0;
(function animateOrbits(){
  t+=0.01;
  document.querySelectorAll('.orbit').forEach(o=>{
    o.style.transform=`rotate(${t*o.dataset.speed*360}deg)`;
  });
  requestAnimationFrame(animateOrbits);
})();

/* parallax */
document.addEventListener('mousemove',e=>{
  const x=(e.clientX/window.innerWidth-.5)*10;
  const y=(e.clientY/window.innerHeight-.5)*10;
  document.querySelectorAll('.orbit').forEach(o=>o.style.translate=`${x}px ${y}px`);
});
if(window.DeviceOrientationEvent){
  window.addEventListener('deviceorientation',e=>{
    document.querySelectorAll('.orbit').forEach(o=>{
      o.style.translate=`${e.gamma/4}px ${e.beta/6}px`;
    });
  });
}

/* flow */
function ask(){
  card.innerHTML=`
    <h1>Astronomy Check üåû</h1>
    <p>Is the Sun a star?</p>
    <div class="buttons">
      <button class="primary" id="yes">Yes</button>
      <button class="secondary" id="no">No</button>
      <div class="cat" id="cat">üê±</div>
    </div>
    <p style="font-size:12px;color:#6b7280">No may behave unpredictably</p>
  `;
  const no=document.getElementById('no');
  const cat=document.getElementById('cat');
  const area=document.querySelector('.buttons');
  function run(){
    no.classList.add('shake');
    setTimeout(()=>no.classList.remove('shake'),300);
    const x=Math.random()*(area.clientWidth-no.offsetWidth);
    const y=Math.random()*(area.clientHeight-no.offsetHeight);
    no.style.left=x+'px';no.style.top=y+'px';
    cat.style.left=(x-26)+'px';cat.style.top=(y+6)+'px';
  }
  no.addEventListener('mouseenter',run);
  no.addEventListener('touchstart',e=>{e.preventDefault();run();});
  document.getElementById('yes').onclick=confirm;
}

function confirm(){
  card.innerHTML=`
    <h1>Final Confirmation ‚≠ê</h1>
    <button class="primary" onclick="reveal()">Okiee Yawrr</button>
    <button class="secondary" onclick="reveal()">YUPEEE</button>
  `;
}

function reveal(){
  card.innerHTML=`
    <div class="star-core shake" id="core"></div>
    <div style="margin-top:22px">
      <div class="glitter" style="font-size:38px">Vedannshi</div>
      <div style="font-size:28px;font-weight:800;margin-top:10px">
        YOU‚ÄôRE GOING TO PROM<br>WITH ME!!!!!
      </div>
      <p style="margin-top:16px;font-size:14px;color:#6b7280">
        üì∏ Screenshot this moment
      </p>
    </div>
    <div class="const-wrap" id="const"></div>
  `;
  setTimeout(()=>{
    document.getElementById('core').classList.remove('shake');
    document.getElementById('music').play();
    drawConstellation();
    hearts();
  },1600);
}

function drawConstellation(){
  const wrap=document.getElementById('const');
  wrap.innerHTML='';
  const sx=wrap.clientWidth/480, sy=wrap.clientHeight/220;
  const pts=[[20,110],[40,80],[60,110],[90,80],[90,110],[110,95],[90,95],
             [140,80],[140,110],[165,95],[195,110],[205,80],[215,110],[205,95],
             [245,80],[245,110],[265,95],[285,80],[285,110],[305,95],
             [335,85],[355,95],[335,105],[385,80],[385,110],[405,95],[435,80],[435,110]];
  const stars=[];
  pts.forEach(([x,y],i)=>{
    const s=document.createElement('div');
    s.className='const-star';
    s.style.left=x*sx+'px';
    s.style.top=y*sy+'px';
    s.style.animationDelay=i*.08+'s';
    wrap.appendChild(s);
    stars.push(s);
  });
  for(let i=0;i<stars.length-1;i++){
    const l=document.createElement('div');
    l.className='const-line';
    l.style.left=stars[i].style.left;
    l.style.top=stars[i].style.top;
    const dx=parseFloat(stars[i+1].style.left)-parseFloat(stars[i].style.left);
    const dy=parseFloat(stars[i+1].style.top)-parseFloat(stars[i].style.top);
    l.style.width=Math.hypot(dx,dy)+'px';
    l.style.transform=`rotate(${Math.atan2(dy,dx)}rad)`;
    l.style.animationDelay=i*.08+.15+'s';
    wrap.appendChild(l);
  }
}

function hearts(){
  for(let i=0;i<24;i++){
    const h=document.createElement('div');
    h.className='heart';
    h.textContent='üíõ';
    h.style.left=Math.random()*100+'vw';
    h.style.bottom='-20px';
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),4000);
  }
}
</script>
</body>
</html>
